# Tebi Cloud S3 é…ç½®è¯´æ˜

## âœ… é…ç½®å·²å®Œæˆ

æ‚¨çš„S3å­˜å‚¨å·²æˆåŠŸé…ç½®ï¼

### ğŸ“‹ é…ç½®è¯¦æƒ…

- **å­˜å‚¨æä¾›å•†**: Tebi Cloud
- **Endpoint**: `https://s3.tebi.io`
- **Bucketåç§°**: `driver`
- **Access Key**: `YxWVUUhcFT6lGi9cF`
- **Secret Key**: `UkN7jF9L0P8XAqPcGOdjl3wi5SQ1d87st80fqC4A`
- **å½“å‰ä½¿ç”¨**: 747.3 MB / 2.2 GB
- **å¯¹è±¡æ•°é‡**: 155ä¸ªå¯¹è±¡

### ğŸ”§ é…ç½®æ–‡ä»¶

S3é…ç½®å­˜å‚¨åœ¨: `s3_config.json`

```json
{
    "S3_ENDPOINT_URL": "https://s3.tebi.io",
    "S3_ACCESS_KEY_ID": "YxWVUUhcFT6lGi9cF",
    "S3_SECRET_ACCESS_KEY": "UkN7jF9L0P8XAqPcGOdjl3wi5SQ1d87st80fqC4A",
    "S3_BUCKET_NAME": "driver"
}
```

### ğŸ§ª æµ‹è¯•è„šæœ¬

å·²åˆ›å»ºä»¥ä¸‹æµ‹è¯•è„šæœ¬ï¼š

1. **test_tebi_s3.py** - è¯¦ç»†çš„è¿æ¥æµ‹è¯•
   - åˆ—å‡ºæ‰€æœ‰buckets
   - åˆ—å‡ºbucketä¸­çš„å¯¹è±¡
   - ç”Ÿæˆé¢„ç­¾åURL

2. **test_s3_connection.py** - å®Œæ•´åŠŸèƒ½æµ‹è¯•
   - ä¸Šä¼ æµ‹è¯•
   - ä¸‹è½½æµ‹è¯•
   - ç”¨æˆ·æ–‡ä»¶å¤¹ç»“æ„æµ‹è¯•

### ğŸ“ æ–‡ä»¶ç»“æ„

è¿œç¨‹æ¨ç†ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºæ–‡ä»¶å¤¹ï¼š

```
driver/
â”œâ”€â”€ testuser/
â”‚   â””â”€â”€ testuser202512111234.png
â”œâ”€â”€ admin/
â”‚   â””â”€â”€ admin202512111235.wav
â””â”€â”€ test/
    â””â”€â”€ connection_test.txt
```

### ğŸš€ è¿œç¨‹æ¨ç†ç³»ç»Ÿé›†æˆ

è¿œç¨‹æ¨ç†ç³»ç»Ÿå·²é…ç½®ä¸ºè‡ªåŠ¨ä½¿ç”¨æ­¤S3å­˜å‚¨ï¼š

1. **æ–‡ä»¶ä¸Šä¼ **: ç”¨æˆ·ç”Ÿæˆçš„æ–‡ä»¶è‡ªåŠ¨ä¸Šä¼ åˆ° `{username}/{timestamp}.{ext}`
2. **å…¬å…±è®¿é—®**: æ‰€æœ‰æ–‡ä»¶é€šè¿‡å…¬å…±URLè®¿é—®:`https://s3.tebi.io/driver/{path}`
3. **é¢„ç­¾åURL**: ç”¨äºå®‰å…¨ä¸Šä¼ ï¼Œ1å°æ—¶è¿‡æœŸ

### ğŸ¯ è¿œç¨‹æ¨ç†æ¨¡æ¿ä½¿ç”¨

ç®¡ç†å‘˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–è¿œç¨‹æ¨ç†æ¨¡æ¿ï¼š

```python
from project.remote_inference import get_admin_template_code

# è·å–éŸ³é¢‘ç”Ÿæˆæ¨¡æ¿
template = get_admin_template_code('audio_generation')
print(template)
```

è¿™ä¸ªæ¨¡æ¿åŒ…å«ï¼š
- âœ… Gradio Clienté›†æˆ
- âœ… æ–‡ä»¶ä¸Šä¼ å¤„ç†  
- âœ… å‚æ•°é…ç½®
- âœ… é”™è¯¯å¤„ç†
- âœ… é€šç”¨ä»£ç ï¼ˆé€‚é…æ‰€æœ‰webuiï¼‰

### ğŸ”’ å®‰å…¨æç¤º

- Secret Key å·²é…ç½®ï¼Œè¯·å‹¿å…¬å¼€åˆ†äº«
- å»ºè®®å®šæœŸè½®æ¢è®¿é—®å¯†é’¥
- bucketå®¹é‡é™åˆ¶: 2.2 GBï¼Œå½“å‰ä½¿ç”¨ 747.3 MB

### ğŸ“Š ç›‘æ§

ä½¿ç”¨ä»¥ä¸‹è„šæœ¬ç›‘æ§bucketä½¿ç”¨æƒ…å†µï¼š

```bash
python test_tebi_s3.py
```

### âœ¨ ä¸‹ä¸€æ­¥

ä½ çš„è¿œç¨‹æ¨ç†ç³»ç»Ÿç°åœ¨å·²é…ç½®å¥½S3å­˜å‚¨ï¼

å¯ä»¥å¼€å§‹ï¼š
1. åˆ›å»ºè¿œç¨‹æ¨ç†ç±»å‹çš„Space
2. é…ç½®è¿œç¨‹æ¨ç†é…ç½®ï¼ˆRemote Inference Configsï¼‰
3. ä½¿ç”¨éŸ³é¢‘ç”ŸæˆAPIæ¨¡æ¿é›†æˆåˆ°webui
4. æµ‹è¯•æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½

æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨ä¿å­˜åˆ°Tebi Cloud S3å­˜å‚¨ï¼
